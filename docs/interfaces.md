<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# goetl

```go
import "command-line-arguments"
```

## Index

- [type Aggregator](<#Aggregator>)
- [type DataSink](<#DataSink>)
- [type DataSource](<#DataSource>)
- [type ErrorHandler](<#ErrorHandler>)
- [type ErrorHandlerFunc](<#ErrorHandlerFunc>)
  - [func \(f ErrorHandlerFunc\) HandleError\(ctx context.Context, record Record, err error\) error](<#ErrorHandlerFunc.HandleError>)
- [type ErrorStrategy](<#ErrorStrategy>)
- [type Filter](<#Filter>)
- [type FilterFunc](<#FilterFunc>)
  - [func \(f FilterFunc\) ShouldInclude\(ctx context.Context, record Record\) \(bool, error\)](<#FilterFunc.ShouldInclude>)
- [type Pipeline](<#Pipeline>)
  - [func \(p \*Pipeline\) Execute\(ctx context.Context\) error](<#Pipeline.Execute>)
- [type PipelineBuilder](<#PipelineBuilder>)
  - [func NewPipeline\(\) \*PipelineBuilder](<#NewPipeline>)
  - [func \(pb \*PipelineBuilder\) Build\(\) \(\*Pipeline, error\)](<#PipelineBuilder.Build>)
  - [func \(pb \*PipelineBuilder\) Filter\(filter Filter\) \*PipelineBuilder](<#PipelineBuilder.Filter>)
  - [func \(pb \*PipelineBuilder\) From\(source DataSource\) \*PipelineBuilder](<#PipelineBuilder.From>)
  - [func \(pb \*PipelineBuilder\) Map\(fn func\(ctx context.Context, record Record\) \(Record, error\)\) \*PipelineBuilder](<#PipelineBuilder.Map>)
  - [func \(pb \*PipelineBuilder\) To\(sink DataSink\) \*PipelineBuilder](<#PipelineBuilder.To>)
  - [func \(pb \*PipelineBuilder\) Transform\(transformer Transformer\) \*PipelineBuilder](<#PipelineBuilder.Transform>)
  - [func \(pb \*PipelineBuilder\) Where\(fn func\(ctx context.Context, record Record\) \(bool, error\)\) \*PipelineBuilder](<#PipelineBuilder.Where>)
  - [func \(pb \*PipelineBuilder\) WithErrorHandler\(handler ErrorHandler\) \*PipelineBuilder](<#PipelineBuilder.WithErrorHandler>)
  - [func \(pb \*PipelineBuilder\) WithErrorStrategy\(strategy ErrorStrategy\) \*PipelineBuilder](<#PipelineBuilder.WithErrorStrategy>)
- [type Record](<#Record>)
- [type TransformFunc](<#TransformFunc>)
  - [func \(f TransformFunc\) Transform\(ctx context.Context, record Record\) \(Record, error\)](<#TransformFunc.Transform>)
- [type Transformer](<#Transformer>)


<a name="Aggregator"></a>
## type [Aggregator](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L91-L98>)

Aggregator defines the interface for data aggregation operations. Aggregators process multiple records and produce a summary or grouped result.

```go
type Aggregator interface {
    // Add processes a record for aggregation.
    Add(ctx context.Context, record Record) error
    // Result returns the aggregated result as a Record.
    Result() (Record, error)
    // Reset clears the aggregator state for reuse.
    Reset()
}
```

<a name="DataSink"></a>
## type [DataSink](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L48-L55>)

DataSink defines the interface for data loading. Implementations write records to a destination \(e.g., CSV, Parquet, PostgreSQL\).

```go
type DataSink interface {
    // Write outputs a single record to the sink.
    Write(ctx context.Context, record Record) error
    // Flush ensures all buffered data is written to the sink.
    Flush() error
    // Close releases any resources held by the data sink.
    Close() error
}
```

<a name="DataSource"></a>
## type [DataSource](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L39-L44>)

DataSource defines the interface for data extraction. Implementations stream records from a source \(e.g., CSV, Parquet, PostgreSQL\).

```go
type DataSource interface {
    // Read returns the next record or io.EOF when no more records are available.
    Read(ctx context.Context) (Record, error)
    // Close releases any resources held by the data source.
    Close() error
}
```

<a name="ErrorHandler"></a>
## type [ErrorHandler](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L118-L122>)

ErrorHandler defines how errors are handled during processing. Custom error handlers can be used to log, collect, or transform errors.

```go
type ErrorHandler interface {
    // HandleError processes an error that occurred during transformation.
    // Returning a non-nil error will stop the pipeline; returning nil will continue.
    HandleError(ctx context.Context, record Record, err error) error
}
```

<a name="ErrorHandlerFunc"></a>
## type [ErrorHandlerFunc](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L126>)

ErrorHandlerFunc is a function adapter for the ErrorHandler interface. Allows ordinary functions to be used as error handlers.

```go
type ErrorHandlerFunc func(ctx context.Context, record Record, err error) error
```

<a name="ErrorHandlerFunc.HandleError"></a>
### func \(ErrorHandlerFunc\) [HandleError](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L129>)

```go
func (f ErrorHandlerFunc) HandleError(ctx context.Context, record Record, err error) error
```

HandleError implements the ErrorHandler interface for ErrorHandlerFunc.

<a name="ErrorStrategy"></a>
## type [ErrorStrategy](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L101>)

ErrorStrategy defines how to handle transformation errors in the pipeline.

```go
type ErrorStrategy int
```

<a name="FailFast"></a>

```go
const (
    // FailFast stops processing on the first error encountered.
    FailFast ErrorStrategy = iota
    // SkipErrors continues processing, skipping failed records.
    SkipErrors
    // CollectErrors continues processing, collecting all errors for later inspection.
    CollectErrors
)
```

<a name="Filter"></a>
## type [Filter](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L75-L78>)

Filter defines the interface for record filtering. Filters determine whether a record should be included in the output.

```go
type Filter interface {
    // ShouldInclude returns true if the record should be included in the output.
    ShouldInclude(ctx context.Context, record Record) (bool, error)
}
```

<a name="FilterFunc"></a>
## type [FilterFunc](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L82>)

FilterFunc is a function adapter for the Filter interface. Allows ordinary functions to be used as Filters.

```go
type FilterFunc func(ctx context.Context, record Record) (bool, error)
```

<a name="FilterFunc.ShouldInclude"></a>
### func \(FilterFunc\) [ShouldInclude](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L85>)

```go
func (f FilterFunc) ShouldInclude(ctx context.Context, record Record) (bool, error)
```

ShouldInclude implements the Filter interface for FilterFunc.

<a name="Pipeline"></a>
## type [Pipeline](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L162-L169>)

Pipeline represents a data processing pipeline for streaming ETL operations.

Use Execute to process all records from the DataSource through transformations and filters, writing to the DataSink.

```go
type Pipeline struct {
    // contains filtered or unexported fields
}
```

<a name="Pipeline.Execute"></a>
### func \(\*Pipeline\) [Execute](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L178>)

```go
func (p *Pipeline) Execute(ctx context.Context) error
```

Execute runs the pipeline, processing all records from source to sink.

ctx: context for cancellation and deadlines Returns an error if a fatal error occurs or context is cancelled.

The pipeline reads records from the DataSource, applies transformations and filters, and writes to the DataSink. Error handling is governed by the configured ErrorStrategy and ErrorHandler.

<a name="PipelineBuilder"></a>
## type [PipelineBuilder](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L59-L61>)

PipelineBuilder provides a fluent API for constructing transformation pipelines. Use NewPipeline\(\) to create a new builder, then chain From, Transform, Filter, To, and configuration methods.

```go
type PipelineBuilder struct {
    // contains filtered or unexported fields
}
```

<a name="NewPipeline"></a>
### func [NewPipeline](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L66>)

```go
func NewPipeline() *PipelineBuilder
```

NewPipeline creates a new PipelineBuilder for constructing an ETL pipeline.

Returns a new builder instance.

<a name="PipelineBuilder.Build"></a>
### func \(\*PipelineBuilder\) [Build](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L149>)

```go
func (pb *PipelineBuilder) Build() (*Pipeline, error)
```

Build validates and constructs the Pipeline from the builder.

Returns the constructed pipeline, or an error if required components are missing.

<a name="PipelineBuilder.Filter"></a>
### func \(\*PipelineBuilder\) [Filter](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L98>)

```go
func (pb *PipelineBuilder) Filter(filter Filter) *PipelineBuilder
```

Filter adds a Filter to the pipeline.

filter: a Filter implementation or FilterFunc Returns the builder for chaining.

<a name="PipelineBuilder.From"></a>
### func \(\*PipelineBuilder\) [From](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L80>)

```go
func (pb *PipelineBuilder) From(source DataSource) *PipelineBuilder
```

From sets the DataSource for the pipeline.

source: a DataSource implementation \(e.g., CSVReader, ParquetReader, PostgreSQLReader\) Returns the builder for chaining.

<a name="PipelineBuilder.Map"></a>
### func \(\*PipelineBuilder\) [Map](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L107>)

```go
func (pb *PipelineBuilder) Map(fn func(ctx context.Context, record Record) (Record, error)) *PipelineBuilder
```

Map adds a mapping transformation to the pipeline using a function.

fn: function with signature func\(ctx, record\) \(Record, error\) Returns the builder for chaining.

<a name="PipelineBuilder.To"></a>
### func \(\*PipelineBuilder\) [To](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L123>)

```go
func (pb *PipelineBuilder) To(sink DataSink) *PipelineBuilder
```

To sets the DataSink for the pipeline.

sink: a DataSink implementation \(e.g., CSVWriter, ParquetWriter, PostgreSQLWriter\) Returns the builder for chaining.

<a name="PipelineBuilder.Transform"></a>
### func \(\*PipelineBuilder\) [Transform](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L89>)

```go
func (pb *PipelineBuilder) Transform(transformer Transformer) *PipelineBuilder
```

Transform adds a Transformer to the pipeline.

transformer: a Transformer implementation or TransformFunc Returns the builder for chaining.

<a name="PipelineBuilder.Where"></a>
### func \(\*PipelineBuilder\) [Where](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L115>)

```go
func (pb *PipelineBuilder) Where(fn func(ctx context.Context, record Record) (bool, error)) *PipelineBuilder
```

Where adds a filtering condition to the pipeline using a function.

fn: function with signature func\(ctx, record\) \(bool, error\) Returns the builder for chaining.

<a name="PipelineBuilder.WithErrorHandler"></a>
### func \(\*PipelineBuilder\) [WithErrorHandler](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L141>)

```go
func (pb *PipelineBuilder) WithErrorHandler(handler ErrorHandler) *PipelineBuilder
```

WithErrorHandler sets a custom error handler for the pipeline.

handler: ErrorHandler implementation Returns the builder for chaining.

<a name="PipelineBuilder.WithErrorStrategy"></a>
### func \(\*PipelineBuilder\) [WithErrorStrategy](<https://github.com/aaronlmathis/goetl/blob/main/pipeline.go#L132>)

```go
func (pb *PipelineBuilder) WithErrorStrategy(strategy ErrorStrategy) *PipelineBuilder
```

WithErrorStrategy sets the error handling strategy for the pipeline.

strategy: ErrorStrategy \(FailFast, SkipErrors, CollectErrors\) Returns the builder for chaining.

<a name="Record"></a>
## type [Record](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L35>)

Record represents a single data record in the pipeline. Each record is a map from field names to values, supporting heterogeneous data.

```go
type Record map[string]interface{}
```

<a name="TransformFunc"></a>
## type [TransformFunc](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L66>)

TransformFunc is a function adapter for the Transformer interface. Allows ordinary functions to be used as Transformers.

```go
type TransformFunc func(ctx context.Context, record Record) (Record, error)
```

<a name="TransformFunc.Transform"></a>
### func \(TransformFunc\) [Transform](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L69>)

```go
func (f TransformFunc) Transform(ctx context.Context, record Record) (Record, error)
```

Transform implements the Transformer interface for TransformFunc.

<a name="Transformer"></a>
## type [Transformer](<https://github.com/aaronlmathis/goetl/blob/main/interfaces.go#L59-L62>)

Transformer defines the interface for data transformation operations. Transformers modify or enrich records as they pass through the pipeline.

```go
type Transformer interface {
    // Transform applies the transformation to a record and returns the result.
    Transform(ctx context.Context, record Record) (Record, error)
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
